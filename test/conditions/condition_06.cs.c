/* Generated by re2c */
#line 1 "conditions/condition_06.cs.re"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define	BSIZE	8192

typedef struct Scanner
{
	FILE			*fp;
	unsigned char	*cur, *tok, *lim, *eof;
	unsigned char 	buffer[BSIZE];
} Scanner;

int fill(Scanner *s, int len)
{
	if (!len)
	{
		s->cur = s->tok = s->lim = s->buffer;
		s->eof = 0;
	}
	if (!s->eof)
	{
		int got, cnt = s->tok - s->buffer;

		if (cnt > 0)
		{
			memcpy(s->buffer, s->tok, s->lim - s->tok);
			s->tok -= cnt;
			s->cur -= cnt;
			s->lim -= cnt;
		}
		cnt = BSIZE - cnt;
		if ((got = fread(s->lim, 1, cnt, s->fp)) != cnt)
		{
			s->eof = &s->lim[got];
		}
		s->lim += got;
	}
	else if (s->cur + len > s->eof)
	{
		return 0; /* not enough input data */
	}
	return -1;
}

void fputl(const char *s, size_t len, FILE *stream)
{
	while(len-- > 0)
	{
		fputc(*s++, stream);
	}
}

#line 57 "conditions/condition_06.cs.c"
enum YYCONDTYPE {
	EStateNormal,
	EStateComment,
	EStateSkiptoeol,
	EStateString,
};
#line 54 "conditions/condition_06.cs.re"


void scan(Scanner *s)
{
	int cond = EStateNormal;
	
	fill(s, 0);

	for(;;)
	{
		s->tok = s->cur;

#line 77 "conditions/condition_06.cs.c"
		{
			unsigned char yych;
			if (cond < 2) {
				if (cond < 1) {
					goto yyc_Normal;
				} else {
					goto yyc_Comment;
				}
			} else {
				if (cond < 3) {
					goto yyc_Skiptoeol;
				} else {
					goto yyc_String;
				}
			}
/* *********************************** */
yyc_Normal:
			if ((s->lim - s->cur) < 3) { if(fill(s, 3) >= 0) break; }
			yych = *s->cur;
			if (yych <= '.') {
				if (yych == '"') goto yy4;
			} else {
				if (yych <= '/') goto yy6;
				if (yych == '?') goto yy7;
			}
			++s->cur;
yy3:
#line 140 "conditions/condition_06.cs.re"
			{
				fputc(*s->tok, stdout);
				continue;
			}
#line 110 "conditions/condition_06.cs.c"
yy4:
			++s->cur;
#line 134 "conditions/condition_06.cs.re"
			{
				fputc(*s->tok, stdout);
				state = EStateString;
				continue;
			}
#line 119 "conditions/condition_06.cs.c"
yy6:
			yych = *++s->cur;
			if (yych == '*') goto yy8;
			if (yych == '/') goto yy10;
			goto yy3;
yy7:
			yych = *(s->tok = ++s->cur);
			if (yych == '?') goto yy12;
			goto yy3;
yy8:
			++s->cur;
#line 126 "conditions/condition_06.cs.re"
			{
				goto yyc_Comment;
			}
#line 135 "conditions/condition_06.cs.c"
yy10:
			++s->cur;
#line 130 "conditions/condition_06.cs.re"
			{
				goto yyc_Skiptoeol;
			}
#line 142 "conditions/condition_06.cs.c"
yy12:
			yych = *++s->cur;
			switch (yych) {
			case '!':	goto yy14;
			case '\'':	goto yy16;
			case '(':	goto yy18;
			case ')':	goto yy20;
			case '-':	goto yy22;
			case '/':	goto yy24;
			case '<':	goto yy26;
			case '=':	goto yy28;
			case '>':	goto yy30;
			default:	goto yy13;
			}
yy13:
			s->cur = s->tok;
			goto yy3;
yy14:
			++s->cur;
#line 116 "conditions/condition_06.cs.re"
			{
				fputc('|', stdout);
				continue;
			}
#line 167 "conditions/condition_06.cs.c"
yy16:
			++s->cur;
#line 111 "conditions/condition_06.cs.re"
			{
				fputc('^', stdout);
				continue;
			}
#line 175 "conditions/condition_06.cs.c"
yy18:
			++s->cur;
#line 81 "conditions/condition_06.cs.re"
			{
				fputc('[', stdout);
				continue;
			}
#line 183 "conditions/condition_06.cs.c"
yy20:
			++s->cur;
#line 86 "conditions/condition_06.cs.re"
			{
				fputc(']', stdout);
				continue;
			}
#line 191 "conditions/condition_06.cs.c"
yy22:
			++s->cur;
#line 121 "conditions/condition_06.cs.re"
			{
				fputc('~', stdout);
				continue;
			}
#line 199 "conditions/condition_06.cs.c"
yy24:
			++s->cur;
#line 106 "conditions/condition_06.cs.re"
			{
				fputc('\\', stdout);
				continue;
			}
#line 207 "conditions/condition_06.cs.c"
yy26:
			++s->cur;
#line 91 "conditions/condition_06.cs.re"
			{
				fputc('{', stdout);
				continue;
			}
#line 215 "conditions/condition_06.cs.c"
yy28:
			++s->cur;
#line 101 "conditions/condition_06.cs.re"
			{
				fputc('#', stdout);
				continue;
			}
#line 223 "conditions/condition_06.cs.c"
yy30:
			++s->cur;
#line 96 "conditions/condition_06.cs.re"
			{
				fputc('}', stdout);
				continue;
			}
#line 231 "conditions/condition_06.cs.c"
/* *********************************** */
yyc_Comment:
			if ((s->lim - s->cur) < 2) { if(fill(s, 2) >= 0) break; }
			yych = *s->cur;
			if (yych == '*') goto yy36;
			++s->cur;
yy35:
#line 149 "conditions/condition_06.cs.re"
			{
				goto yyc_Comment;
			}
#line 243 "conditions/condition_06.cs.c"
yy36:
			yych = *++s->cur;
			if (yych != '/') goto yy35;
			++s->cur;
#line 145 "conditions/condition_06.cs.re"
			{
				continue;
			}
#line 252 "conditions/condition_06.cs.c"
/* *********************************** */
yyc_Skiptoeol:
			if ((s->lim - s->cur) < 5) { if(fill(s, 5) >= 0) break; }
			yych = *s->cur;
			if (yych <= '>') {
				if (yych == '\n') goto yy43;
			} else {
				if (yych <= '?') goto yy45;
				if (yych == '\\') goto yy46;
			}
			++s->cur;
yy42:
#line 165 "conditions/condition_06.cs.re"
			{
				goto yyc_Skiptoeol;
			}
#line 269 "conditions/condition_06.cs.c"
yy43:
			++s->cur;
#line 161 "conditions/condition_06.cs.re"
			{
				continue;
			}
#line 276 "conditions/condition_06.cs.c"
yy45:
			yych = *(s->tok = ++s->cur);
			if (yych == '?') goto yy47;
			goto yy42;
yy46:
			yych = *(s->tok = ++s->cur);
			if (yych == '\n') goto yy49;
			if (yych == '\r') goto yy51;
			goto yy42;
yy47:
			yych = *++s->cur;
			if (yych == '/') goto yy52;
yy48:
			s->cur = s->tok;
			goto yy42;
yy49:
			++s->cur;
#line 157 "conditions/condition_06.cs.re"
			{
				goto yyc_Skiptoeol;
			}
#line 298 "conditions/condition_06.cs.c"
yy51:
			yych = *++s->cur;
			if (yych == '\n') goto yy49;
			goto yy48;
yy52:
			yych = *++s->cur;
			if (yych == '\n') goto yy53;
			if (yych == '\r') goto yy55;
			goto yy48;
yy53:
			++s->cur;
#line 153 "conditions/condition_06.cs.re"
			{
				goto yyc_Skiptoeol;
			}
#line 314 "conditions/condition_06.cs.c"
yy55:
			yych = *++s->cur;
			if (yych == '\n') goto yy53;
			goto yy48;
/* *********************************** */
yyc_String:
			if ((s->lim - s->cur) < 2) { if(fill(s, 2) >= 0) break; }
			yych = *s->cur;
			if (yych == '"') goto yy60;
			if (yych == '\\') goto yy62;
			++s->cur;
yy59:
#line 179 "conditions/condition_06.cs.re"
			{
				fputc(*s->tok, stdout);
				continue;
			}
#line 332 "conditions/condition_06.cs.c"
yy60:
			++s->cur;
#line 174 "conditions/condition_06.cs.re"
			{
				fputc(*s->tok, stdout);
				continue;
			}
#line 340 "conditions/condition_06.cs.c"
yy62:
			yych = *++s->cur;
			if (yych == '\n') goto yy59;
			++s->cur;
#line 169 "conditions/condition_06.cs.re"
			{
				fputl((const char*)s->tok, 2, stdout);
				continue;
			}
#line 350 "conditions/condition_06.cs.c"
		}
#line 183 "conditions/condition_06.cs.re"

	}
}

int main(int argc, char **argv)
{
	Scanner in;
	char c;

	if (argc != 2)
	{
		fprintf(stderr, "%s <file>\n", argv[0]);
		return 1;;
	}

	memset((char*) &in, 0, sizeof(in));

	if (!strcmp(argv[1], "-"))
	{
		in.fp = stdin;
	}
	else if ((in.fp = fopen(argv[1], "r")) == NULL)
	{
		fprintf(stderr, "Cannot open file '%s'\n", argv[1]);
		return 1;
	}

	scan(&in);

	if (in.fp != stdin)
	{
		fclose(in.fp);
	}
	return 0;
}
